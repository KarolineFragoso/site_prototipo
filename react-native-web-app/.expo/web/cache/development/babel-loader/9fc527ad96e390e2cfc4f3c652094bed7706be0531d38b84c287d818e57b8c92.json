{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SalesReportScreen(_ref) {\n  var onBack = _ref.onBack;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    sales = _useState2[0],\n    setSales = _useState2[1];\n  var API_URL = 'https://joaozinho-celular.onrender.com';\n  useEffect(function () {\n    fetchSales();\n  }, []);\n  var fetchSales = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(API_URL + \"/sales\");\n        if (!response.ok) throw new Error('Erro ao buscar vendas');\n        var data = yield response.json();\n        setSales(data);\n      } catch (error) {\n        Alert.alert('Erro', error.message);\n      }\n    });\n    return function fetchSales() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Relat\\xF3rio de Vendas\"\n    }), sales.length === 0 ? _jsx(Text, {\n      style: styles.emptyMessage,\n      children: \"Nenhuma venda registrada.\"\n    }) : sales.map(function (sale) {\n      return _jsxs(View, {\n        style: styles.saleItem,\n        children: [_jsxs(Text, {\n          style: styles.productText,\n          children: [\"Produto: \", sale.product]\n        }), _jsxs(Text, {\n          style: styles.productText,\n          children: [\"Quantidade: \", sale.quantity]\n        }), _jsxs(Text, {\n          style: styles.productText,\n          children: [\"Pre\\xE7o Total: R$ \", parseFloat(sale.total_price).toFixed(2)]\n        }), _jsxs(Text, {\n          style: styles.productText,\n          children: [\"Data: \", sale.date]\n        }), _jsxs(Text, {\n          style: styles.productText,\n          children: [\"Hora: \", sale.time]\n        })]\n      }, sale.id);\n    }), _jsx(Button, {\n      title: \"Voltar\",\n      onPress: onBack\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000000',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#6a0dad',\n    marginBottom: 20,\n    textTransform: 'uppercase',\n    textAlign: 'center'\n  },\n  saleItem: {\n    backgroundColor: '#121212',\n    padding: 10,\n    marginBottom: 10,\n    borderRadius: 8\n  },\n  productText: {\n    color: '#dcdcdc'\n  },\n  emptyMessage: {\n    color: '#9a7ed1',\n    fontStyle: 'italic',\n    textAlign: 'center',\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","Text","View","Button","ScrollView","Alert","jsx","_jsx","jsxs","_jsxs","SalesReportScreen","_ref","onBack","_useState","_useState2","_slicedToArray","sales","setSales","API_URL","fetchSales","_ref2","_asyncToGenerator","response","fetch","ok","Error","data","json","error","alert","message","apply","arguments","style","styles","container","children","title","length","emptyMessage","map","sale","saleItem","productText","product","quantity","parseFloat","total_price","toFixed","date","time","id","onPress","create","flex","backgroundColor","padding","fontSize","fontWeight","color","marginBottom","textTransform","textAlign","borderRadius","fontStyle","marginTop"],"sources":["C:/JoaozinhoCelular/site_prototipo/react-native-web-app/SalesReportScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, Text, View, Button, ScrollView, Alert } from 'react-native';\r\n\r\nexport default function SalesReportScreen({ onBack }) {\r\n  const [sales, setSales] = useState([]);\r\n  const API_URL = 'https://joaozinho-celular.onrender.com';\r\n\r\n  useEffect(() => {\r\n    fetchSales();\r\n  }, []);\r\n\r\n  const fetchSales = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/sales`);\r\n      if (!response.ok) throw new Error('Erro ao buscar vendas');\r\n      const data = await response.json();\r\n      setSales(data);\r\n    } catch (error) {\r\n      Alert.alert('Erro', error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <Text style={styles.title}>Relatório de Vendas</Text>\r\n      {sales.length === 0 ? (\r\n        <Text style={styles.emptyMessage}>Nenhuma venda registrada.</Text>\r\n      ) : (\r\n        sales.map((sale) => (\r\n          <View key={sale.id} style={styles.saleItem}>\r\n            <Text style={styles.productText}>Produto: {sale.product}</Text>\r\n            <Text style={styles.productText}>Quantidade: {sale.quantity}</Text>\r\n            <Text style={styles.productText}>Preço Total: R$ {parseFloat(sale.total_price).toFixed(2)}</Text>\r\n            <Text style={styles.productText}>Data: {sale.date}</Text>\r\n            <Text style={styles.productText}>Hora: {sale.time}</Text>\r\n          </View>\r\n        ))\r\n      )}\r\n      <Button title=\"Voltar\" onPress={onBack} />\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#000000',\r\n    padding: 20,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: '700',\r\n    color: '#6a0dad',\r\n    marginBottom: 20,\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  saleItem: {\r\n    backgroundColor: '#121212',\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    borderRadius: 8,\r\n  },\r\n  productText: {\r\n    color: '#dcdcdc',\r\n  },\r\n  emptyMessage: {\r\n    color: '#9a7ed1',\r\n    fontStyle: 'italic',\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}